const miModulo=(()=>{"use strict";let e=[],t=[],r=["C","D","H","S"],a=["A","J","Q","K"],l=document,n=l.querySelector("#btnJugar"),s=l.querySelector("#btnPedir"),d=l.querySelector("#btnDetener"),i=l.querySelectorAll(".cartas"),o=l.querySelectorAll("small"),c=(r=2)=>{e=u(),t=[];for(let a=0;a<r;a++)t.push(0);o.forEach(e=>e.innerText=0),i.forEach(e=>e.innerText=""),s.disabled=!1,d.disabled=!1},u=()=>{e=[];for(let t=2;t<=10;t++)for(let l of r)e.push(t+l);for(let n of r)for(let s of a)e.push(s+n);return shuffle(e)},$=()=>{if(0===e.length)throw"No hay cartas en el baraja";return e.pop()},_=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},b=(e,r)=>(t[r]+=_(e),o[r].innerText=t[r],t[r]),g=(e,t)=>{let r=l.createElement("img");r.src=`assets/img/cartas/${e}.png`,r.alt="cartas de blackjack",r.classList.add("carta"),i[t].append(r)},h=()=>{let[e,r]=t;setTimeout(()=>{r===e?alert("empate!"):e>21?alert("Crupier Gana!"):r>21?alert("Jugador Gana!"):alert("Crupier Gana!")},100)},p=e=>{let r=0;do{let a=$();r=b(a,t.length-1),g(a,t.length-1)}while(r<e&&e<=21);h()};return s.addEventListener("click",()=>{let e=$(),t=b(e,0);g(e,0),t>21?(console.warn("Lo siento, perdiste!"),s.disabled=!0,d.disabled=!0,p(t)):21===t&&(console.warn("Eres el ganador!"),s.disabled=!0,d.disabled=!0,p(t))}),n.addEventListener("click",()=>{c()}),d.addEventListener("click",()=>{s.disabled=!0,d.disabled=!0,p(t[0])}),{nuevoJuego:c}})();